<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:p="http://primefaces.prime.com.tr/ui"

                template="/main_template.xhtml">

    <ui:define name="topNavigation">
        <ui:include src="/shared/top_navigation_bar.xhtml">
            <ui:param name="selected" value="curate"/>
        </ui:include>
    </ui:define>

    <ui:define name="top">
        <h:panelGroup rendered="#{publicationController != null}">
            <h:link outcome="/curate/publication" value="#{publicationController.publication.shortLabel}"/>
        </h:panelGroup>
    </ui:define>

    <ui:define name="content">
        <div id="menuSection" style="width:98%; position:fixed; margin-top: -10px; margin-left:-10px">
            <ui:insert name="menubar">

                <p:menubar>
                    <p:submenu label="Publication">
                        <p:submenu label="New    >"/>
                        <p:submenu label="Open by AC" onclick="openByAcDlg.show()"/>
                    </p:submenu>
                    <p:submenu label="Experiments" rendered="#{publicationController.publication != null}"/>
                    <p:submenu label="Interactions" rendered="#{publicationController.publication != null}"/>
                    <p:submenu label="..."/>
                </p:menubar>

            </ui:insert>
        </div>

        <p:dialog header="Open by PMID" width="300px" widgetVar="openByAcDlg" visible="false">

            <h:panelGrid columns="2" style="margin-bottom:10px">
                <h:form>
                <h:outputLabel for="pmid" value="PMID:"/>
                <h:inputText id="pmid" value="#{publicationController.openQuery}"/>

                <h:commandButton value="Open" actionListener="#{publicationController.openByPmid}" action="/curate/publication"/>
                </h:form>
            </h:panelGrid>

        </p:dialog>

        <div style="width:100%; padding-top:30px">
            <ui:insert name="curateContent"/>
        </div>

    </ui:define>

</ui:composition>