<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <f:metadata>
            <f:viewParam name="identifier" value="#{inputCvObjectController.id}"/>
            <f:viewParam name="className" value="#{inputCvObjectController.cvClass}"/>
            <f:viewParam name="visible" value="#{inputCvObjectController.visible}"/>
            <f:viewParam name="dialogId" value="#{inputCvObjectController.dialogId}"/>
            <f:event type="preRenderView" listener="#{inputCvObjectController.load}"/>
        </f:metadata>

        <h:head>
            <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.request.contextPath}/resources/css/#{editorConfig.theme}/skin.css"></link>
            <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.request.contextPath}/resources/css/intact-extra.css"></link>

        </h:head>
        <h:body>
            <h:form>

                <h:panelGroup rendered="#{inputCvObjectController.visible}">

                <div id="cvTableContainer" style="overflow-x: auto;">

                    <p:treeTable id="tree" var="cvObject"
                            value="#{inputCvObjectController.root}">
                        <p:column>
                            <f:facet name="header"><h:outputText value="Label"/></f:facet>
                            <a href="#" onclick="parent.#{inputCvObjectController.dialogId}_icv.update('#{cvObject.ac}', '#{cvObject.shortLabel}', parent.#{inputCvObjectController.dialogId})"
                                    title="#{inputCvObjectController.getDescription(cvObject)}">#{cvObject.shortLabel}</a>
                        </p:column>
                        <p:column>
                            <f:facet name="header"><h:outputText value="Identifier"/></f:facet>
                            <h:outputText value="#{cvObject.identifier}" />
                        </p:column>
                        <p:column>
                            <f:facet name="header"><h:outputText value="Full name"/></f:facet>
                            <h:outputText value="#{cvObject.fullName}" />
                        </p:column>
                    </p:treeTable>
                </div>

                </h:panelGroup>

             </h:form>
        </h:body>
    </f:view>

</ui:composition>