<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <f:metadata>
            <f:viewParam name="identifier" value="#{inputCvTermController.id}"/>
            <f:viewParam name="className" value="#{inputCvTermController.cvClass}"/>
            <f:viewParam name="visible" value="#{inputCvTermController.visible}"/>
            <f:viewParam name="dialogId" value="#{inputCvTermController.dialogId}"/>
            <f:event type="preRenderView" listener="#{inputCvTermController.load}"/>
        </f:metadata>

        <h:head>
            <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.request.contextPath}/resources/css/#{editorConfig.theme}/skin.css"></link>
            <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.request.contextPath}/resources/css/intact-extra.css"></link>

        </h:head>
        <h:body>
            <h:form>

                <h:panelGroup rendered="#{inputCvTermController.visible}">

                <div id="cvTableContainer" style="overflow-x: auto;">

                    <p:treeTable id="tree" var="cvObject"
                            value="#{inputCvTermController.root}">
                        <p:column>
                            <f:facet name="header"><h:outputText value="Label"/></f:facet>
                            <a href="#" onclick="parent.#{inputCvTermController.dialogId}_icv.update('#{cvObject.ac}', '#{cvObject.shortName}', parent.#{inputCvTermController.dialogId})"
                                    title="#{inputCvTermController.getDescription(cvObject)}">#{cvObject.shortName}</a>
                        </p:column>
                        <p:column>
                            <f:facet name="header"><h:outputText value="Identifier"/></f:facet>
                            <h:outputText value="#{inputCvTermController.getIdentifier(cvObject)}" />
                        </p:column>
                        <p:column>
                            <f:facet name="header"><h:outputText value="Full name"/></f:facet>
                            <h:outputText value="#{cvObject.fullName}" />
                        </p:column>
                    </p:treeTable>
                </div>

                </h:panelGroup>

             </h:form>
        </h:body>
    </f:view>

</ui:composition>
