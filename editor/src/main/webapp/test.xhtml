<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      xmlns:ia="http://java.sun.com/jsf/composite/components/intact">

<f:view contentType="text/html">

    <h:head>
        <title>Test case</title>
        <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.request.contextPath}/resources/css/#{appController.theme}/skin.css"></link>
        <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.request.contextPath}/resources/css/intact-extra.css"></link>
    </h:head>

    <h:body>
        <h:form id="testForm" prependId="false">

     <p:dataTable var="car" value="#{testController2.lazyModel}" paginator="true" rows="10" lazy="true"
                  paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                  rowsPerPageTemplate="5,10,15"
                  selection="#{testController2.selectedCar}" selectionMode="single"
                  onRowSelectComplete="carDialog.show()" onRowSelectUpdate="display">

         <f:facet name="header">
             Displaying 100,000,000 Cars
         </f:facet>

         <p:column headerText="Model" sortBy="#{car.model}">
             <h:outputText value="#{car.model}" />
         </p:column>

         <p:column headerText="Year" sortBy="#{car.year}">
             <h:outputText value="#{car.year}" />
         </p:column>

         <p:column headerText="Manufacturer" sortBy="#{car.manufacturer}">
             <h:outputText value="#{car.manufacturer}" />
         </p:column>

         <p:column headerText="Color" sortBy="#{car.color}">
             <h:outputText value="#{car.color}" />
         </p:column>
     </p:dataTable>

     <p:dialog header="Car Detail" widgetVar="carDialog" resizable="false"
               width="200" showEffect="explode" hideEffect="explode">

         <h:panelGrid id="display" columns="2" cellpadding="4">

             <f:facet name="header">
                 <p:graphicImage value="/images/cars/#{testController2.selectedCar.manufacturer}.jpg"/>
             </f:facet>

             <h:outputText value="Model:" />
             <h:outputText value="#{testController2.selectedCar.model}"/>

             <h:outputText value="Year:" />
             <h:outputText value="#{testController2.selectedCar.year}"/>

             <h:outputText value="Manufacturer:" />
             <h:outputText value="#{testController2.selectedCar.manufacturer}"/>

             <h:outputText value="Color:" />
             <h:outputText value="#{testController2.selectedCar.color}"/>
         </h:panelGrid>
     </p:dialog>

 </h:form>
    </h:body>
</f:view>
</html>