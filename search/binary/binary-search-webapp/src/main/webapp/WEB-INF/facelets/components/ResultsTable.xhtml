<ui:composition
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:t="http://myfaces.apache.org/tomahawk"
        xmlns:c="http://java.sun.com/jstl/core"
        xmlns:s="http://myfaces.apache.org/sandbox"
        xmlns:tr="http://myfaces.apache.org/trinidad"
        xmlns:trh="http://myfaces.apache.org/trinidad/html"
        xmlns:ebi="http://ebi.ac.uk/faces/components"
        xmlns:sf="http://www.ebi.ac.uk/faces/site"
        xmlns:psimitab="http://www.ebi.ac.uk/psi/mitab"
        xmlns:bs="http://intact.ebi.ac.uk/binarysearch">


<!-- table is buffered, so we can put the navigation on top and on bottom -->

<tr:table id="results" value="#{value}" var="binaryInteraction" varStatus="status"
        binding="#{searchBean.resultsDataTable}" emptyText="No interactions found matching the query." 
        rows="50" rowBandingInterval="1" >

    <tr:column>
        <tr:outputText value="#{status.index + 1}"/>
    </tr:column>

 <tr:column headerText="Accession number molecule A">
    <bs:xrefDataList value="#{binaryInteraction.interactorA.identifiers}" />
</tr:column>
<tr:column headerText="Accession number molecule B">
    <bs:xrefDataList value="#{binaryInteraction.interactorB.identifiers}" />
</tr:column>
<tr:column headerText="Alternative id molecule A">
    <bs:xrefDataList value="#{binaryInteraction.interactorA.alternativeIdentifiers}" />
</tr:column>
<tr:column headerText="Alternative id molecule B">
    <bs:xrefDataList value="#{binaryInteraction.interactorB.alternativeIdentifiers}" />
</tr:column>
<tr:column headerText="Names molecule A">
    <t:dataList var="alias" value="#{binaryInteraction.interactorA.aliases}" rowCountVar="rowCount"
                rowIndexVar="rowIndex">
        <h:outputText value="#{alias.name}"/>
        <h:outputText value=", " rendered="#{rowIndex + 1 lt rowCount}"/>
    </t:dataList>
</tr:column>
<tr:column headerText="Names molecule B">
    <t:dataList var="alias" value="#{binaryInteraction.interactorB.aliases}" rowCountVar="rowCount"
                rowIndexVar="rowIndex">
        <h:outputText value="#{alias.name}"/>
        <h:outputText value=", " rendered="#{rowIndex + 1 lt rowCount}"/>
    </t:dataList>
</tr:column>
<tr:column headerText="Species molecule A">
    <t:dataList var="organism" value="#{binaryInteraction.interactorA.organism}">
        <t:dataList var="xref" value="#{organism.identifiers}" rowCountVar="rowCount" rowIndexVar="rowIndex">
            <h:outputLink value="#{psimitab:xrefUrl(appConfigBean.linkContext, xref)}" target="_blank">
                <h:outputText value="#{xref.identifier}"/>
            </h:outputLink>
            <h:outputText value="(#{xref.text})" rendered="#{xref.text != null}"/>
        </t:dataList>
        <h:outputText value=", " rendered="#{rowIndex + 1 lt rowCount}"/>
    </t:dataList>
</tr:column>
<tr:column headerText="Species molecule B">
    <t:dataList var="organism" value="#{binaryInteraction.interactorB.organism}">
        <t:dataList var="xref" value="#{organism.identifiers}" rowCountVar="rowCount" rowIndexVar="rowIndex">
            <h:outputLink value="#{psimitab:xrefUrl(appConfigBean.linkContext, xref)}" target="_blank">
                <h:outputText value="#{xref.identifier}"/>
            </h:outputLink>
            <h:outputText value="(#{xref.text})" rendered="#{xref.text != null}"/>
        </t:dataList>
        <h:outputText value=", " rendered="#{rowIndex + 1 lt rowCount}"/>
    </t:dataList>
</tr:column>

<tr:column headerText="First Author">
    <t:dataList var="author" value="#{binaryInteraction.authors}" rowCountVar="rowCount" rowIndexVar="rowIndex">
        <span style="display:block">
            <nobr>
                <tr:outputText value="#{author.name}"/>
            </nobr>
        </span>

    </t:dataList>

</tr:column>

<tr:column headerText="PubMed identifier">
    <bs:xrefDataList value="#{binaryInteraction.publications}" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Interaction type">
    <bs:xrefDataList value="#{binaryInteraction.interactionTypes}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Interaction detection method">
   <bs:xrefDataList value="#{binaryInteraction.detectionMethods}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Source database(s)">
   <bs:xrefDataList value="#{binaryInteraction.sourceDatabases}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Interaction details">
    <bs:xrefDataList value="#{binaryInteraction.interactionAcs}" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Confidence Value(s)">
    <t:dataList var="confidence" value="#{binaryInteraction.confidenceValues}" >
                    <span style="display:block">
                        <nobr>
                            <tr:outputText value="#{confidence.type}:#{confidence.value}"/>
                        </nobr>
                    </span>
     </t:dataList>
</tr:column>
<tr:column headerText="Experimental role A">
    <bs:xrefDataList value="#{binaryInteraction.experimentalRolesInteractorA}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Experimental role A">
    <bs:xrefDataList value="#{binaryInteraction.experimentalRolesInteractorB}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Biological role A">
    <bs:xrefDataList value="#{binaryInteraction.biologicalRolesInteractorA}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Biological role A">
    <bs:xrefDataList value="#{binaryInteraction.biologicalRolesInteractorB}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Properties molecule A">
    <bs:xrefDataList value="#{binaryInteraction.propertiesB}"/>
</tr:column>
<tr:column headerText="Properties molecule B">
    <bs:xrefDataList value="#{binaryInteraction.propertiesB}"/>
</tr:column>
<tr:column headerText="Interactor type A">
    <bs:xrefDataList value="#{binaryInteraction.interactorTypeA}" onlyText="true"/>
</tr:column>
<tr:column headerText="Interactor type B">
    <bs:xrefDataList value="#{binaryInteraction.interactorTypeB}" onlyText="true"/>
</tr:column>
<tr:column headerText="Host organism">
    <bs:xrefDataList value="#{binaryInteraction.hostOrganism}" onlyText="true" itemPerLine="true"/>
</tr:column>
<tr:column headerText="Expansion method">
    <tr:outputText value="#{binaryInteraction.expansionMethod}" />
</tr:column>
<tr:column headerText="Dataset">
    <t:dataList var="dataset" value="#{binaryInteraction.dataset}" >
                    <span style="display:block">
                        <nobr>
                            <tr:outputText value="#{dataset}"/>
                        </nobr>
                    </span>
     </t:dataList>
</tr:column>

</tr:table>


</ui:composition>