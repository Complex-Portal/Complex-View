<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:tr="http://myfaces.apache.org/trinidad"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:sf="http://www.ebi.ac.uk/faces/site"
                xmlns:ebi="http://ebi.ac.uk/faces/components"
                xmlns:bs="http://intact.ebi.ac.uk/binarysearch"
                xmlns:iav="http://intact.ebi.ac.uk/view"
                xmlns:iax="http://intact.ebi.ac.uk/extlinks"

                template="/WEB-INF/facelets/layout/template.xhtml">

    <ui:define name="additionalHeader">
        <h:panelGroup rendered="#{searchBean.disclosedTabName == 'molecule'}">
            <iav:dastyHeader/>
        </h:panelGroup>
    </ui:define>

    <ui:define name="content">

        <ui:debug/>

        <tr:panelTabbed position="above">

            <tr:showDetailItem text="Search"
                               disclosed="#{searchBean.disclosedTabName == 'search'}">
                <ui:include src="pages/search/search_tab.xhtml"/>
            </tr:showDetailItem>

            <tr:showDetailItem text="Interactions (#{searchBean.totalResults})"
                               disabled="#{searchBean.totalResults == 0}"
                               disclosed="#{searchBean.disclosedTabName == 'interactions'}">
                <ui:include src="pages/interactions/interactions_tab.xhtml"/>
            </tr:showDetailItem>

            <tr:showDetailItem text="List (#{searchBean.interactorTotalResults})"
                               disabled="#{searchBean.interactorTotalResults == 0}"
                               disclosed="#{searchBean.disclosedTabName == 'list'}">
                <ui:include src="pages/list/list_tab.xhtml"/>
            </tr:showDetailItem>

            <tr:showDetailItem text="Molecule View" disabled="#{moleculeViewBean.interactor == null}"
                               disclosed="#{searchBean.disclosedTabName == 'molecule'}">
                <ui:include src="pages/molecule/molecule_tab.xhtml"/>
            </tr:showDetailItem>

        </tr:panelTabbed>

    </ui:define>

</ui:composition>
