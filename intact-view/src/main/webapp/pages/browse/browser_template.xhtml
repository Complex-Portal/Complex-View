<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                xmlns:p="http://primefaces.prime.com.tr/ui"


                template="/main_content_template.xhtml">
    
    <ui:param name="disclosedTabName" value="browse"/>

    <ui:define name="browseTabContent">

        <h:panelGroup>
            <h:graphicImage alt="Back" url="/images/back_arrow.gif" />
            <p:commandLink value="Back to Browse options" action="/pages/browse/browse?faces-redirect=true&amp;includeViewParams=true" ajax="false"/>
        </h:panelGroup>

        <br/>

        <h2>#{title}</h2>

        <p:remoteCommand name="selectNode" actionListener="#{browserController.searchNode}">
                                 <f:param name="operand" value="AND"/>
                                 <f:param name="field" value="#{browserController.fieldName}"/>
                                 <!--<f:param name="queryValue" value="#{otw.term.id}" />-->
                            </p:remoteCommand>

        <p:tree var="otw" value="#{browserController.ontologyTreeNode}"
                dynamic="true" cache="true"
                selectionMode="single" selection="#{browserController.selectedNode}"
                nodeSelectListener="#{browserController.searchNode}">
            <p:treeNode>
                <h:outputText value="#{otw.term.name} - (#{otw.interactionCount} interactions)"/>
            </p:treeNode>
        </p:tree>



                <!--<tr:treeTable id="browsertTree" var="otw" value="#{browserController.ontologyTreeModel}" rootNodeRendered="false"-->
                        <!--expandAllEnabled="false">-->

                    <!--<f:facet name="nodeStamp">-->
                        <!--<tr:column>-->
                            <!--<f:facet name="header">-->
                                <!--<tr:outputText value="Name"/>-->
                            <!--</f:facet>-->
                            <!--<tr:outputText value="#{otw.term.name}"/>-->
                        <!--</tr:column>-->

                    <!--</f:facet>-->
                    <!--<tr:column>-->
                        <!--<f:facet name="header">-->
                            <!--<tr:outputText value="ID"/>-->
                        <!--</f:facet>-->
                        <!--<tr:outputText value="#{otw.term.id}"/>-->
                    <!--</tr:column>-->

                    <!--<tr:column inlineStyle="text-align:center;">-->
                        <!--<f:facet name="header">-->
                            <!--<tr:outputText value="# Interactions"/>-->
                        <!--</f:facet>-->
                        <!--<tr:group>-->
                             <!--<tr:commandLink text="#{otw.interactionCount}" rendered="#{otw.interactionCount > 0}"-->
                                             <!--actionListener="#{userQuery.doAddParamTermToQuery}"-->
                                             <!--action="#{searchBean.doBinarySearchAction}">-->
                                 <!--<f:param name="operand" value="AND"/>-->
                                 <!--<f:param name="field" value="#{browserController.fieldName}"/>-->
                                 <!--<f:param name="queryValue" value="#{otw.term.id}" />-->
                            <!--</tr:commandLink>-->

                            <!--<tr:outputText value="0" rendered="#{otw.interactionCount == 0}"/>-->
                        <!--</tr:group>-->
                    <!--</tr:column>-->
      
                <!--</tr:treeTable>-->
    </ui:define>

</ui:composition>