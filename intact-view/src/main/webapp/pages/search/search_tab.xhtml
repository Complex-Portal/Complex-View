<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:tr="http://myfaces.apache.org/trinidad"
                xmlns:trh="http://myfaces.apache.org/trinidad/html"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:sf="http://www.ebi.ac.uk/faces/site"
                xmlns:ebi="http://ebi.ac.uk/faces/components"
                xmlns:iam="http://intact.ebi.ac.uk/miscel"
                xmlns:iav="http://intact.ebi.ac.uk/view"
                xmlns:iax="http://intact.ebi.ac.uk/extlinks">
   

    <tr:messages/>

    <tr:panelHeader text="Quick Search" styleClass="level-one"/>

    <tr:subform id="mainSearchSubform">

        <tr:panelLabelAndMessage label="Search query:">
            <tr:inputText columns="30" value="#{searchBean.searchQuery}"
                          onfocus="this.select()"
                          onkeypress="return submitEnter('mainSearchSubform:searchBtn',event)"/>
            <f:facet name="help">
                <tr:group>
                    <tr:panelList>
                        <tr:outputText value="Protein accession number: e.g. 'Q08345'"/>
                        <tr:outputText value="Drug name: e.g. 'imatinib'"/>
                        <tr:outputText value="Gene name: e.g. 'DDR1'"/>
                        <!--<tr:outputText value="Author name: e.g. 'Doodle'"/>-->
                    </tr:panelList>
                </tr:group>
            </f:facet>
            <f:facet name="end">
                <tr:commandButton id="searchBtn"
                                  text="Search"
                                  action="#{searchBean.doBinarySearchAction}"
                                  styleClass="submit_button"/>
            </f:facet>
        </tr:panelLabelAndMessage>

    </tr:subform>

    <tr:panelHeader text="Ontology Search"/>

    <tr:subform id="ontologySubForm">

    <tr:outputText value="Start typing an ontology term, possible completions of the term will be shown:"/>
    <br/><br/>
    

          <tr:panelLabelAndMessage label="Ontology query:">
               <!--<tr:inputText columns="30" value="#{searchBean.ontologySearchQuery}"-->
              <!--onkeypress="return submitEnter('ontologySearchBtn',event)"/>-->

               <iam:inputAutocomplete id="ontologySearchQuery" parentId="ontologySubForm"
                                   value="#{searchBean.ontologySearchQuery}"
                                   columns="30"
                                   readOnly="false"
                                   locateBackingBean="#{ontologyBean}"
                                   locateActionListenerName="fillAutocomplete"
                                   locateValueFieldName="identifier"
                                   locateVisibleFieldName="identifier"
                                   maxSuggestions="#{intactViewConfiguration.maxOntologySuggestions}"
                                   var="ontologyTerm">
                   <tr:group>
                       <tr:outputText value="#{ontologyTerm.identifier}" inlineStyle="font-weight:bold; color: #e65555"/>
                       <tr:outputText value=" #{ontologyTerm.label}"/>
                   </tr:group>
               </iam:inputAutocomplete>

              <f:facet name="help">
                    e.g. "association","direct interaction"
                </f:facet>
                <f:facet name="end">
                    <tr:commandButton id="ontologySearchBtn"
                                      text="Search"
                                      action="#{searchBean.doOntologySearchAction}"
                                      styleClass="submit_button"/>
                </f:facet>
            </tr:panelLabelAndMessage>

    </tr:subform>

    <tr:panelHeader text="Other Searches">

    <tr:panelAccordion discloseNone="true">
        <tr:showDetailItem text="Protein Sequence Search (Not implemented)">
            <h:panelGrid columns="2">
                <tr:outputText value="Paste in an amino acid sequence in Fasta format."/>
                <tr:spacer/>
                <tr:inputText rows="5" disabled="true"/>
                <tr:panelBox id="searchExampleBox" text="Examples">
                    <!-- TODO how to display this a <pre> block -->
                    <!-- TODO how to align this cell to the top ? -->
                    <tr:outputText
                            value="&lt;pre&gt;&gt;GI1234&lt;br&gt;ATYEEEJK&lt;/pre&gt;" escape="false"/>
                </tr:panelBox>

            </h:panelGrid>
        </tr:showDetailItem>
        <tr:showDetailItem text="Chemical Search">
            <iframe frameborder="0" width="900" height="1100"
                    src="#{intactViewConfiguration.chebiUrl}#{intactViewConfiguration.chebiChemicalSearchPath}&amp;callbackUrl=#{requestConfigBean.absoluteContextPath}/main.xhtml?query=id:*"></iframe>

        </tr:showDetailItem>
</tr:panelAccordion>

</tr:panelHeader>

</ui:composition>